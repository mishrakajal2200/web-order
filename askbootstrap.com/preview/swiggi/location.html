<!doctype html>
<html lang="en">
  <!-- Mirrored from askbootstrap.com/preview/swiggi/location.html by HTTrack Website Copier/3.x [XR&CO'2014], Sun, 01 Sep 2024 06:30:26 GMT -->
  <head>
    <meta charset="utf-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1, shrink-to-fit=no"
    />
    <meta name="description" content="Askbootstrap" />
    <meta name="author" content="Askbootstrap" />
    <link rel="icon" type="image/png" href="img/fav.png" />
    <title>Swiggi - Online Food Ordering Website Mobile Template</title>

    <link rel="stylesheet" type="text/css" href="vendor/slick/slick.min.css" />
    <link
      rel="stylesheet"
      type="text/css"
      href="vendor/slick/slick-theme.min.css"
    />

    <link href="vendor/icons/feather.css" rel="stylesheet" type="text/css" />

    <link href="vendor/bootstrap/css/bootstrap.min.css" rel="stylesheet" />

    <link href="./img/css/style.css" rel="stylesheet" />

    <link href="vendor/sidebar/demo.css" rel="stylesheet" />

    <!-- Including Bootstrap JS for potential future use -->
    <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.5.2/dist/umd/popper.min.js"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
    <style>
      .card:hover {
        background-color: rgb(232, 237, 237);
      }
    </style>
  </head>
  <body>
    <div class=" location location-page">
      <div
        class="d-flex align-items-center justify-content-center min-vh-100 flex-column"
      >
        <img
          src="./img/location.png"
          class="img-fluid mx-auto"
          alt="Responsive image"
          style="width: 200px;"
        />
        <div class="px-4 text-center mt-4">
          <h5 class="text-dark">Hi, nice to meet you!</h5>
          <p class="mb-5">
            Choose your location to start find restaurants around you.
          </p>
          <a
            href="#"
            id="currentLocationBtn"
            class="btn btn-lg btn-primary btn-block my-4"
            ><i class="feather-navigation"></i> Use current location</a
          >
          <!-- Dropdown will be appended here by JavaScript -->
          <div class="location-dropdown-container"></div>
          <a href="#" id="manualLocationBtn" class="text-dark"
            >Select it manually</a
          >

          <!-- Dropdown will be inserted here by JavaScript if needed -->
          <div id="location-container" class="mt-4"></div>

          <!-- For any additional information -->
          <p id="locationMessage" class="mt-3"></p>

          <!-- Location outlets will be appended here -->
          <div id="outlets-container" class="mt-4"></div>
        </div>
      </div>
    </div>

    <nav id="main-nav">
      <ul class="second-nav">
        <li>
          <a href="index.html"><i class="feather-grid mr-2"></i> Intro</a>
        </li>
        <li>
          <a href="landing.html"><i class="feather-layers mr-2"></i> Landing</a>
        </li>
        <li>
          <a href="home.html"><i class="feather-home mr-2"></i> Homepage</a>
        </li>
        <li>
          <a href="#"><i class="feather-edit-2 mr-2"></i> Authentication</a>
          <ul>
            <li><a href="login.html">Login</a></li>
            <li><a href="signup.html">Register</a></li>
            <li><a href="forgot_password.html">Forgot Password</a></li>
            <li><a href="verification.html">Verification</a></li>
            <li><a href="location.html">Location</a></li>
            <li><a href="select_country.html">Select Country</a></li>
          </ul>
        </li>
        <li>
          <a href="trending.html"
            ><i class="feather-trending-up mr-2"></i> Trending</a
          >
        </li>
        <li>
          <a href="most_popular.html"
            ><i class="feather-award mr-2"></i> Most Popular</a
          >
        </li>
        <li>
          <a href="restaurant.html"
            ><i class="feather-paperclip mr-2"></i> Restaurant Detail</a
          >
        </li>
        <li>
          <a href="recipe.html"
            ><i class="feather-file-text mr-2"></i> Recipe</a
          >
        </li>
        <li>
          <a href="checkout.html"><i class="feather-list mr-2"></i> Checkout</a>
        </li>
        <li>
          <a href="map.html"><i class="feather-map-pin mr-2"></i> Live Map</a>
        </li>
        <li>
          <a href="payment.html"
            ><i class="feather-credit-card mr-2"></i> Payment</a
          >
        </li>
        <li>
          <a href="#"><i class="feather-user mr-2"></i> Profile</a>
          <ul>
            <li><a href="profile.html">Profile</a></li>
            <li><a href="favorites.html">Favorites</a></li>
          </ul>
        </li>
        <li>
          <a href="#"><i class="feather-book mr-2"></i> Pages</a>
          <ul>
            <li><a href="filters.html">Filters</a></li>
            <li><a href="terms.html">Terms & conditions</a></li>
            <li><a href="faq.html">FAQ</a></li>
            <li><a href="privacy.html">Privacy & Policy</a></li>
            <li><a href="contact-us.html">Contact Us</a></li>
          </ul>
        </li>
        <li>
          <a href="#"><i class="feather-alert-triangle mr-2"></i> Error</a>
          <ul>
            <li><a href="not-found.html">Not Found</a></li>
            <li><a href="maintence.html"> Maintence</a></li>
            <li><a href="coming-soon.html">Coming Soon</a></li>
          </ul>
        </li>
        <li>
          <a href="#"
            ><i class="feather-link mr-2"></i> Navigation Link Example</a
          >
          <ul>
            <li>
              <a href="#">Link Example 1</a>
              <ul>
                <li>
                  <a href="#">Link Example 1.1</a>
                  <ul>
                    <li><a href="#">Link</a></li>
                    <li><a href="#">Link</a></li>
                    <li><a href="#">Link</a></li>
                    <li><a href="#">Link</a></li>
                    <li><a href="#">Link</a></li>
                  </ul>
                </li>
                <li>
                  <a href="#">Link Example 1.2</a>
                  <ul>
                    <li><a href="#">Link</a></li>
                    <li><a href="#">Link</a></li>
                    <li><a href="#">Link</a></li>
                    <li><a href="#">Link</a></li>
                  </ul>
                </li>
              </ul>
            </li>
            <li><a href="#">Link Example 2</a></li>
            <li><a href="#">Link Example 3</a></li>
            <li><a href="#">Link Example 4</a></li>
            <li data-nav-custom-content>
              <div class="custom-message">
                You can add any custom content to your navigation items. This
                text is just an example.
              </div>
            </li>
          </ul>
        </li>
      </ul>
      <ul class="bottom-nav">
        <li class="email">
          <a class="text-danger" href="home.html">
            <p class="h5 m-0"><i class="feather-home text-danger"></i></p>
            Home
          </a>
        </li>
        <li class="github">
          <a href="faq.html">
            <p class="h5 m-0"><i class="feather-message-circle"></i></p>
            FAQ
          </a>
        </li>
        <li class="ko-fi">
          <a href="contact-us.html">
            <p class="h5 m-0"><i class="feather-phone"></i></p>
            Help
          </a>
        </li>
      </ul>
    </nav>

    <script
      src="vendor/jquery/jquery.min.js"
      type="c545c18dfef5d9b9ebb1e04f-text/javascript"
    ></script>
    <script
      src="vendor/bootstrap/js/bootstrap.bundle.min.js"
      type="c545c18dfef5d9b9ebb1e04f-text/javascript"
    ></script>

    <script
      type="c545c18dfef5d9b9ebb1e04f-text/javascript"
      src="vendor/slick/slick.min.js"
    ></script>

    <script
      type="c545c18dfef5d9b9ebb1e04f-text/javascript"
      src="vendor/sidebar/hc-offcanvas-nav.js"
    ></script>

    <script
      src="js/osahan.js"
      type="c545c18dfef5d9b9ebb1e04f-text/javascript"
    ></script>

   
    <script>
      document.addEventListener("DOMContentLoaded", function () {
        const restaurantId = "EPOS737290"; // Replace with your actual RESTAURANT_ID
    
        // Fetch location data for the specific restaurant
        function fetchLocationData() {
          const apiUrl = `https://app.extraaazpos.com/api/locations?restaurant_id=${restaurantId}`;
    
          fetch(apiUrl)
            .then((response) => response.json())
            .then((data) => {
              console.log("Location Data:", data);
    
              if (data.success && data.data && data.data.length > 0) {
                let locationDetailsHTML = ''; // Initialize an empty string to hold all location details
    
                data.data.forEach((location) => {
                  // Generate the HTML for each location
                  locationDetailsHTML += `
                    <div id="location-${location.id}" class="card shadow-lg mt-3 clickable-card" style="border-color: red; cursor: pointer;">
                      <div class="card-body">
                        <h4 class="article-title">${location.name}</h4>
                        <p class="article-content p-1">${location.address}</p>
                        <footer class="article-info">
                          <span style="color: red;">Location details for ${location.name}</span>
                        </footer>
                      </div>
                    </div>`;
                });
    
                // Add all location details to the page
                document.querySelector("#location-container").innerHTML = locationDetailsHTML;
    
                // Add click events to each location card for navigation and session storage
                data.data.forEach((location) => {
                  document.getElementById(`location-${location.id}`).addEventListener("click", () => {
                    // Store selected location ID and name in sessionStorage when clicked
                    sessionStorage.setItem("selectedLocationId", location.id);
                    sessionStorage.setItem("selectedLocationName", location.name);
    
                    // Navigate to home page when location details are clicked
                    window.location.href = "./home.html"; // Replace with your home page URL
                  });
                });
              } else {
                console.error("No location data available.");
              }
            })
            .catch((error) => console.error("Error fetching location data:", error));
        }
    
        // Handler for "Use Current Location" button
        document.querySelector("#currentLocationBtn").addEventListener("click", () => {
          if (navigator.geolocation) {
            navigator.geolocation.getCurrentPosition(
              (position) => {
                const { latitude, longitude } = position.coords;
                console.log("Current Location:", latitude, longitude);
    
                // Automatically select location with ID 113
                const selectedLocationId = "113";
                const selectedLocationName = "Current Location"; // Replace with the actual name of location 113 if known
    
                // Store the location details in sessionStorage
                sessionStorage.setItem("selectedLocationId", selectedLocationId);
                sessionStorage.setItem("selectedLocationName", selectedLocationName);
    
                // Store the latitude and longitude
                sessionStorage.setItem("latitude", latitude);
                sessionStorage.setItem("longitude", longitude);
    
                // Navigate to home page immediately
                window.location.href = "./home.html"; // Replace with your home page URL
              },
              (error) => {
                console.error("Error getting current location:", error);
                alert("Unable to get current location.");
              }
            );
          } else {
            alert("Geolocation is not supported by this browser.");
          }
        });
    
        // Handler for "Select Location Manually" button
        document.querySelector("#manualLocationBtn").addEventListener("click", () => {
          // Fetch and display location data directly
          fetchLocationData();
        });
      });
    </script>
    
  </body>

  <!-- Mirrored from askbootstrap.com/preview/swiggi/location.html by HTTrack Website Copier/3.x [XR&CO'2014], Sun, 01 Sep 2024 06:30:26 GMT -->
</html>
