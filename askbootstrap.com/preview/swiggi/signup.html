<!doctype html>
<html lang="en">
  <!-- Mirrored from askbootstrap.com/preview/swiggi/signup.html by HTTrack Website Copier/3.x [XR&CO'2014], Sun, 01 Sep 2024 06:30:26 GMT -->
  <head>
    <meta charset="utf-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1, shrink-to-fit=no"
    />
    <meta name="description" content="Askbootstrap" />
    <meta name="author" content="Askbootstrap" />
    <link rel="icon" type="image/png" href="img/fav.png" />
    <title>Swiggi - Online Food Ordering Website Mobile Template</title>

    <link rel="stylesheet" type="text/css" href="vendor/slick/slick.min.css" />
    <link
      rel="stylesheet"
      type="text/css"
      href="vendor/slick/slick-theme.min.css"
    />

    <link href="vendor/icons/feather.css" rel="stylesheet" type="text/css" />

    <link href="vendor/bootstrap/css/bootstrap.min.css" rel="stylesheet" />

    <link href="./img/css/style.css" rel="stylesheet" />

    <link href="vendor/sidebar/demo.css" rel="stylesheet" />
    <style>
      #vid {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  object-fit: cover; /* Ensures the video covers the entire viewport */
  z-index: -1; /* Places the video behind other content */
}
    </style>

  </head>
  <body>

    <div class="osahan-signup login-page">
      <video loop autoplay muted id="vid">
        <source src="img/bg.mp4" type="video/mp4" />
        <source src="img/bg.mp4" type="video/ogg" />
        Your browser does not support the video tag.
      </video>
     
        <div class="p-4">
          <h2 class="text-white">Hello There.</h2>
          <p class="text-white text-50">Sign up to continue</p>
          <form
            class="mt-5 mb-4 signupform"
            action="https://askbootstrap.com/preview/swiggi/landing.html"
            id="signupform"
          >
            <div class="form-group">
              <label for="email" class="text-white">Email</label>
              <input
                type="email"
                placeholder="Enter Email"
                class="form-control"
                id="email"
                aria-describedby="nameHelp"
                required
              />
            </div>

            <div class="form-group">
              <label for="name" class="text-white">Name</label>
              <input
                type="text"
                placeholder="Enter Name"
                class="form-control"
                id="name"
                aria-describedby="nameHelp"
                required
              />
            </div>
            <div class="form-group">
              <label for="number" class="text-white">Mobile Number</label>
              <input
                type="number"
                placeholder="Enter Mobile"
                class="form-control"
                id="number"
                aria-describedby="numberHelp"
                required
              />
            </div>
            <div class="form-group">
              <label for="password" class="text-white">Password</label>
              <input
                type="password"
                placeholder="Enter Password"
                class="form-control"
                id="password"
                required
              />
              <i
                class="fa fa-eye toggle-password"
                id="togglePasswordSignUp"
              ></i>
            </div>
            <button
              type="button"
              class="btn btn-primary btn-lg btn-block"
              id="registerId"
            >
              <a
                class="#"
                class="font-decoration-none btn"
                id="sign-up-btn"
              ></a>
              SIGN UP
            </button>
            <div class="py-2">
              <button
                class="btn btn-facebook btn-lg btn-block"
                id="facebookConnect"
              >
                <i class="feather-facebook"></i> Connect with Facebook
              </button>
            </div>
          </form>
        </div>
        <div
          class="new-acc fixed-bottom d-flex align-items-center justify-content-center"
        >
          <a href="./login.html"
            ><p class="text-center text-white m-0" id="signInLink">
              Already an account? Sign in
            </p></a
          >
        </div>
    
    </div>

    <nav id="main-nav">
      <ul class="second-nav">
        <li>
          <a href="index.html"><i class="feather-grid mr-2"></i> Intro</a>
        </li>
        <li>
          <a href="landing.html"><i class="feather-layers mr-2"></i> Landing</a>
        </li>
        <li>
          <a href="home.html"><i class="feather-home mr-2"></i> Homepage</a>
        </li>
        <li>
          <a href="#"><i class="feather-edit-2 mr-2"></i> Authentication</a>
          <ul>
            <li><a href="login.html">Login</a></li>
            <li><a href="signup.html">Register</a></li>
            <li><a href="forgot_password.html">Forgot Password</a></li>
            <li><a href="verification.html">Verification</a></li>
            <li><a href="location.html">Location</a></li>
            <li><a href="select_country.html">Select Country</a></li>
          </ul>
        </li>
        <li>
          <a href="trending.html"
            ><i class="feather-trending-up mr-2"></i> Trending</a
          >
        </li>
        <li>
          <a href="most_popular.html"
            ><i class="feather-award mr-2"></i> Most Popular</a
          >
        </li>
        <li>
          <a href="restaurant.html"
            ><i class="feather-paperclip mr-2"></i> Restaurant Detail</a
          >
        </li>
        <li>
          <a href="recipe.html"
            ><i class="feather-file-text mr-2"></i> Recipe</a
          >
        </li>
        <li>
          <a href="checkout.html"><i class="feather-list mr-2"></i> Checkout</a>
        </li>
        <li>
          <a href="map.html"><i class="feather-map-pin mr-2"></i> Live Map</a>
        </li>
        <li>
          <a href="payment.html"
            ><i class="feather-credit-card mr-2"></i> Payment</a
          >
        </li>
        <li>
          <a href="#"><i class="feather-user mr-2"></i> Profile</a>
          <ul>
            <li><a href="profile.html">Profile</a></li>
            <li><a href="favorites.html">Favorites</a></li>
          </ul>
        </li>
        <li>
          <a href="#"><i class="feather-book mr-2"></i> Pages</a>
          <ul>
            <li><a href="filters.html">Filters</a></li>
            <li><a href="terms.html">Terms & conditions</a></li>
            <li><a href="faq.html">FAQ</a></li>
            <li><a href="privacy.html">Privacy & Policy</a></li>
            <li><a href="contact-us.html">Contact Us</a></li>
          </ul>
        </li>
        <li>
          <a href="#"><i class="feather-alert-triangle mr-2"></i> Error</a>
          <ul>
            <li><a href="not-found.html">Not Found</a></li>
            <li><a href="maintence.html"> Maintence</a></li>
            <li><a href="coming-soon.html">Coming Soon</a></li>
          </ul>
        </li>
        <li>
          <a href="#"
            ><i class="feather-link mr-2"></i> Navigation Link Example</a
          >
          <ul>
            <li>
              <a href="#">Link Example 1</a>
              <ul>
                <li>
                  <a href="#">Link Example 1.1</a>
                  <ul>
                    <li><a href="#">Link</a></li>
                    <li><a href="#">Link</a></li>
                    <li><a href="#">Link</a></li>
                    <li><a href="#">Link</a></li>
                    <li><a href="#">Link</a></li>
                  </ul>
                </li>
                <li>
                  <a href="#">Link Example 1.2</a>
                  <ul>
                    <li><a href="#">Link</a></li>
                    <li><a href="#">Link</a></li>
                    <li><a href="#">Link</a></li>
                    <li><a href="#">Link</a></li>
                  </ul>
                </li>
              </ul>
            </li>
            <li><a href="#">Link Example 2</a></li>
            <li><a href="#">Link Example 3</a></li>
            <li><a href="#">Link Example 4</a></li>
            <li data-nav-custom-content>
              <div class="custom-message">
                You can add any custom content to your navigation items. This
                text is just an example.
              </div>
            </li>
          </ul>
        </li>
      </ul>
      <ul class="bottom-nav">
        <li class="email">
          <a class="text-danger" href="home.html">
            <p class="h5 m-0"><i class="feather-home text-danger"></i></p>
            Home
          </a>
        </li>
        <li class="github">
          <a href="faq.html">
            <p class="h5 m-0"><i class="feather-message-circle"></i></p>
            FAQ
          </a>
        </li>
        <li class="ko-fi">
          <a href="contact-us.html">
            <p class="h5 m-0"><i class="feather-phone"></i></p>
            Help
          </a>
        </li>
      </ul>
    </nav>

    <script
      src="vendor/jquery/jquery.min.js"
      type="37273f18eae028c698c5c7fb-text/javascript"
    ></script>
    <script
      src="vendor/bootstrap/js/bootstrap.bundle.min.js"
      type="37273f18eae028c698c5c7fb-text/javascript"
    ></script>
    <script
      type="37273f18eae028c698c5c7fb-text/javascript"
      src="vendor/slick/slick.min.js"
    ></script>
    <script
      type="37273f18eae028c698c5c7fb-text/javascript"
      src="vendor/sidebar/hc-offcanvas-nav.js"
    ></script>
    <script
      src="js/osahan.js"
      type="37273f18eae028c698c5c7fb-text/javascript"
    ></script>
    <script
      src="../../cdn-cgi/scripts/7d0fa10a/cloudflare-static/rocket-loader.min.js"
      data-cf-settings="37273f18eae028c698c5c7fb-|49"
      defer
    ></script>

    <!-- <script>
      document.addEventListener("DOMContentLoaded", function () {
        // Fetch the environment configuration from the JSON file
        fetch("/env.json")
          .then((response) => response.json())
          .then((data) => {
            const restaurantData = data.RESTAURANTS[0]; // Assuming only one restaurant in the array

            // Hardcoded restaurant_id and urlSegment values
            const restaurant_id = "EPOS737290"; // Hardcoded value
            const urlSegment = restaurant_id; // Same as restaurant_id in this case

            // Log to confirm that restaurant_id and urlSegment are correct
            console.log("Final restaurant_id being used:", restaurant_id);
            console.log("Final urlSegment being used:", urlSegment);

            // Store restaurant_id and urlSegment in localStorage initially
            localStorage.setItem("restaurantId", restaurant_id);
            localStorage.setItem("urlSegment", urlSegment);

            const sign_up_btn = document.querySelector("#sign-up-btn");
            const osahan_signup = document.querySelector(".osahan-signup");
            const registerId = document.querySelector("#registerId");

            // Event listener for showing the sign-up form
            sign_up_btn.addEventListener("click", () => {
              osahan_signup.classList.add("sign-up-mode");
            });

            // Event listener for registration button click
            registerId.addEventListener("click", () => {
              const email = document.getElementById("email").value;
              const password = document.getElementById("password").value;
              const name = document.getElementById("name").value;
              const number = document.getElementById("number").value;

              console.log("Sign-Up Data:", { email, password, name, number });

              const apiUrl =
                "https://app.extraaazpos.com/api/customer-register";

              fetch(apiUrl, {
                method: "POST",
                headers: {
                  "Content-Type": "application/json",
                },
                body: JSON.stringify({
                  email: email,
                  password: password,
                  name: name,
                  mobile: number,
                  restaurant_id: restaurant_id, // Use hardcoded restaurant_id
                  loc_id: null, // Explicitly set locationId to null
                }),
              })
                .then((response) => response.json())
                .then((data) => {
                  console.log("Response Data:", data);
                  if (data.success) {
                    const {
                      token,
                      customer_name,
                      customer_number,
                      customer_id,
                      registrationId,
                      locationId,
                    } = data.data;

                    // Store user info in sessionStorage
                    sessionStorage.setItem("token", token);
                    sessionStorage.setItem("customerName", customer_name);
                    sessionStorage.setItem("customerNumber", customer_number);
                    sessionStorage.setItem("customerId", customer_id);

                    // If `registrationId` or `locationId` are provided, store them
                    if (registrationId) {
                      sessionStorage.setItem("urlSegment", registrationId);
                      localStorage.setItem("restaurantId", registrationId); // Store the `registrationId` as `restaurantId`
                    }
                    if (locationId) {
                      sessionStorage.setItem("locationId", locationId);
                    }

                    // Store restaurantId and urlSegment in localStorage
                    localStorage.setItem("restaurantId", restaurant_id);
                    localStorage.setItem("urlSegment", restaurant_id);

                    // Redirect on success
                    window.location.href = "./location.html";
                  } else {
                    console.error("Error in Sign-Up:", data.error);
                    alert("Error in Sign-Up. Please try again.");
                  }
                })
                .catch((error) => {
                  console.error("Error during Sign-Up:", error);
                  alert("Error during Sign-Up. Please try again.");
                });
            });
          })
          .catch((error) => console.error("Error fetching env.json:", error));
      });
    </script> -->


    <script>
      document.addEventListener("DOMContentLoaded", function () {
        // Fetch the environment configuration from the JSON file
        fetch("/env.json")
          .then((response) => {
            if (!response.ok) {
              throw new Error(`Failed to fetch env.json: ${response.statusText}`);
            }
            return response.json();
          })
          .then((data) => {
            const restaurantData = data.RESTAURANTS[0]; // Assuming only one restaurant in the array
    
            // Hardcoded restaurant_id and urlSegment values
            const restaurant_id = "EPOS737290"; // Hardcoded value
            const urlSegment = restaurant_id; // Same as restaurant_id in this case
    
            // Log to confirm that restaurant_id and urlSegment are correct
            console.log("Final restaurant_id being used:", restaurant_id);
            console.log("Final urlSegment being used:", urlSegment);
    
            // Store restaurant_id and urlSegment in localStorage initially
            localStorage.setItem("restaurantId", restaurant_id);
            localStorage.setItem("urlSegment", urlSegment);
    
            const sign_up_btn = document.querySelector("#sign-up-btn");
            const osahan_signup = document.querySelector(".osahan-signup");
            const registerId = document.querySelector("#registerId");
    
            // Ensure buttons exist before adding event listeners
            if (sign_up_btn) {
              sign_up_btn.addEventListener("click", () => {
                osahan_signup.classList.add("sign-up-mode");
              });
            }
    
            if (registerId) {
              registerId.addEventListener("click", () => {
                const email = document.getElementById("email").value.trim();
                const password = document.getElementById("password").value.trim();
                const name = document.getElementById("name").value.trim();
                const number = document.getElementById("number").value.trim();
    
                // Basic form validation
                if (!email || !password || !name || !number) {
                  alert("All fields are required. Please fill them out.");
                  return;
                }
    
                console.log("Sign-Up Data:", { email, password, name, number });
    
                const apiUrl = "https://app.extraaazpos.com/api/customer-register";
    
                fetch(apiUrl, {
                  method: "POST",
                  headers: {
                    "Content-Type": "application/json",
                  },
                  body: JSON.stringify({
                    email: email,
                    password: password,
                    name: name,
                    mobile: number,
                    restaurant_id: restaurant_id, // Use hardcoded restaurant_id
                    loc_id: null, // Explicitly set locationId to null
                  }),
                })
                  .then((response) => {
                    if (!response.ok) {
                      return response.json().then((errorData) => {
                        throw new Error(errorData.message || "Sign-Up failed.");
                      });
                    }
                    return response.json();
                  })
                  .then((data) => {
                    console.log("Response Data:", data);
                    if (data.success) {
                      const {
                        token,
                        customer_name,
                        customer_number,
                        customer_id,
                        registrationId,
                        locationId,
                      } = data.data;
    
                      // Store user info in sessionStorage
                      sessionStorage.setItem("token", token);
                      sessionStorage.setItem("customerName", customer_name);
                      sessionStorage.setItem("customerNumber", customer_number);
                      sessionStorage.setItem("customerId", customer_id);
    
                      // If `registrationId` or `locationId` are provided, store them
                      if (registrationId) {
                        sessionStorage.setItem("urlSegment", registrationId);
                        localStorage.setItem("restaurantId", registrationId); // Store the `registrationId` as `restaurantId`
                      }
                      if (locationId) {
                        sessionStorage.setItem("locationId", locationId);
                      }
    
                      // Store restaurantId and urlSegment in localStorage
                      localStorage.setItem("restaurantId", restaurant_id);
                      localStorage.setItem("urlSegment", restaurant_id);
    
                      // Redirect on success
                      alert("Sign-Up Successful!");
                      window.location.href = "./location.html";
                    } else {
                      console.error("Error in Sign-Up:", data.message);
                      alert(data.message || "Error in Sign-Up. Please try again.");
                    }
                  })
                  .catch((error) => {
                    console.error("Error during Sign-Up:", error.message);
                    alert(error.message || "Unexpected error during Sign-Up.");
                  });
              });
            } else {
              console.warn("Register button not found.");
            }
          })
          .catch((error) => console.error("Error fetching env.json:", error.message));
      });
    </script>
    
  </body>

  <!-- Mirrored from askbootstrap.com/preview/swiggi/signup.html by HTTrack Website Copier/3.x [XR&CO'2014], Sun, 01 Sep 2024 06:30:26 GMT -->
</html>
